<!DOCTYPE html>
<html lang="pt_BR>
<head>
    <title>Wagner Marcuci Software C/C++</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body style="background-color:black; color:white;" alink="white" link="white" vlink="white">
<h2 style="border: 1px solid white;width:250px;padding:5px;">&nbsp;&nbsp;Processos no Windows</h2>
<br/>
<a href="https://www.youtube.com/watch?v=tTr0quEf-do"
style="font-family:Candara;text-decoration:none;color:red;">V&iacute;deo do Canal</a>
</br></br>
<pre>
#include &lt;stdio.h&gt;
#include &lt;windows.h&gt;
#include &lt;tlhelp32.h&gt;

void ver_processos()
{
	LPPROCESSENTRY32 pi = ( LPPROCESSENTRY32 )malloc( sizeof( PROCESSENTRY32 ) );

	HANDLE handle_snap = CreateToolhelp32Snapshot( TH32CS_SNAPPROCESS, 0 );

	if ( handle_snap != INVALID_HANDLE_VALUE )
	{
		pi-&gt;dwSize = sizeof(*pi);

		if (Process32First( handle_snap, pi ))
        {
            do
            {
                printf( "szExeFile..........: %s\n", pi-&gt;szExeFile );
                printf( "th32ProcessID......: %d\n", pi-&gt;th32ProcessID );
                printf( "cntThreads.........: %d\n", pi-&gt;cntThreads );
                printf( "th32ParentProcessID: %d\n", pi-&gt;th32ParentProcessID );
                printf( "---------------------------\n" );

            } while( Process32Next( handle_snap, pi ) );
        }

		CloseHandle( handle_snap );
	}

	free( pi );
}

int main()
{
    ver_processos();


    printf( "\n\n\n" );

    return 0;
}


</pre>
</body>
</html>
